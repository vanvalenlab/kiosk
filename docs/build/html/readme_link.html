

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DeepCell Kiosk: Deploying a Scalable Solution for Biological Image Analysis &mdash; DeepCell Kiosk 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Troubleshooting" href="TROUBLESHOOTING.html" />
    <link rel="prev" title="Welcome to the doumentation for DeepCell’s Kiosk" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> DeepCell Kiosk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">DeepCell Kiosk: Deploying a Scalable Solution for Biological Image Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#before-starting-the-kiosk">Before starting the Kiosk</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#google-cloud">Google Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="#amazon-web-services">Amazon Web Services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kiosk-startup-for-non-developers">Kiosk startup for Non-developers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#windows-users">Windows Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="#all-users-windows-and-otherwise">All Users (Windows and otherwise)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kiosk-usage">Kiosk usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kiosk-shutdown">Kiosk shutdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trademarks">Trademarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="TROUBLESHOOTING.html">Troubleshooting</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DeepCell Kiosk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>DeepCell Kiosk: Deploying a Scalable Solution for Biological Image Analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/readme_link.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="deepcell-kiosk-deploying-a-scalable-solution-for-biological-image-analysis">
<h1>DeepCell Kiosk: Deploying a Scalable Solution for Biological Image Analysis<a class="headerlink" href="#deepcell-kiosk-deploying-a-scalable-solution-for-biological-image-analysis" title="Permalink to this headline">¶</a></h1>
<p>This DeepCell distribution is designed to easily spin up an end-to-end DeepCell environment on Kubernetes. The repository contains shell scripts and configuration files that follow the infrastructure-as-code model to easily manage and scale a deep learning solution for biological image analysis.</p>
<p>Once running, the Kiosk iniates a web portal that has access to cluster of computers in the cloud. This distribution is managed automatically by Kubernetes, deployment software also launched by the Kiosk at run-time. The web portal allows multiple users to upload mulitple images (in the form of zip files) and download the resulting segmentation and classification of these images automatically.</p>
<div class="section" id="before-starting-the-kiosk">
<h2>Before starting the Kiosk<a class="headerlink" href="#before-starting-the-kiosk" title="Permalink to this headline">¶</a></h2>
<p>The scalability of the software is enabled by cloud computing. As such, the preparation steps vary depending on which cloud provider you plan on deploying with:</p>
<div class="section" id="google-cloud">
<h3>Google Cloud<a class="headerlink" href="#google-cloud" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Create an account at <a class="reference external" href="https://cloud.google.com">Google Cloud</a>.</li>
<li>Create a Google Cloud project.</li>
<li>Make sure you have at least one account with the <code class="docutils literal notranslate"><span class="pre">Owner</span></code> role.</li>
<li>Make sure you have a storage bucket with public access.</li>
<li>Make sure that any files you upload to the bucket (such as pre-trained Tensorflow models) have public access. (Google cloud uses a permission system that may be unfamiliar to Linux users. File permissions are not inherited from buckets; they are set individually on each file.)</li>
</ol>
</div>
<div class="section" id="amazon-web-services">
<h3>Amazon Web Services<a class="headerlink" href="#amazon-web-services" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Create an account at <a class="reference external" href="https://aws.amazon.com">Amazon Web Services</a>.</li>
<li>Make sure you have at least one account which is a member of the <code class="docutils literal notranslate"><span class="pre">admin</span></code> group.</li>
<li>You should generate an access key pair for this <code class="docutils literal notranslate"><span class="pre">admin</span></code> account using the instructions found <a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html">here</a>.</li>
<li>Make sure you have a S3 bucket with public access.</li>
</ol>
</div>
</div>
<div class="section" id="kiosk-startup-for-non-developers">
<h2>Kiosk startup for Non-developers<a class="headerlink" href="#kiosk-startup-for-non-developers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="windows-users">
<h3>Windows Users<a class="headerlink" href="#windows-users" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Install WSL</a> (Windows Subsystem for Linux)</li>
</ol>
</div>
<div class="section" id="all-users-windows-and-otherwise">
<h3>All Users (Windows and otherwise)<a class="headerlink" href="#all-users-windows-and-otherwise" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Install <a class="reference external" href="https://www.docker.com/community-edition">Docker for your OS</a> (<em>FREE Community Edition</em>).</li>
<li>Start a terminal shell</li>
<li>Install the Deepcell kiosk wrapper script: <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">vanvalenlab/kiosk:0.3.0</span> <span class="pre">|</span> <span class="pre">sudo</span> <span class="pre">-E</span> <span class="pre">bash</span> <span class="pre">-s</span> <span class="pre">0.3.0</span></code></li>
<li>Start the kiosk. Just run: <code class="docutils literal notranslate"><span class="pre">kiosk</span></code></li>
<li>Follow setup instructions, when prompted</li>
</ol>
</div>
</div>
<div class="section" id="kiosk-usage">
<h2>Kiosk usage<a class="headerlink" href="#kiosk-usage" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Once the Kiosk has started, select the configuration option for your chosen cloud provider, either Amazon or Google, and fill out the configuration values as needed. ( If using Google, follow the link provided during the configuration process in a web browser.) Once the Kiosk has been configured for a cloud provider, the word <code class="docutils literal notranslate"><span class="pre">(active)</span></code> will appear next to that cloud provider’s configuration option in the Kiosk menu.</li>
<li>With the Kiosk configured for the appropriate cloud provider, select the <code class="docutils literal notranslate"><span class="pre">Create</span></code> option from the Kiosk’s main menu to create the cluster on the chosen cloud provider. This may take up to 10 minutes. Cluster creation is done when you see <code class="docutils literal notranslate"><span class="pre">Cluster</span> <span class="pre">Created</span></code> followed by <code class="docutils literal notranslate"><span class="pre">---COMPLETE---</span></code> printed to the terminal. If you see <code class="docutils literal notranslate"><span class="pre">---COMPLETE---</span></code> with some error text immediately preceding it, cluster creation failed.</li>
<li>Find the cluster’s web address by choosing the <code class="docutils literal notranslate"><span class="pre">View</span></code> option form the Kiosk’s main menu. (Depending on your chosne cloud provider and the cloud provider’s settings, your cluster’s address might be either a raw IP address, e.g., “123.456.789.012”, or a URL, e.g., “deepcellkiosk.cloudprovider.com”.</li>
<li>Go to the cluster address in your web browser to find the Deepcell frontpage.</li>
<li>Enjoy!</li>
</ol>
</div>
<div class="section" id="kiosk-shutdown">
<h2>Kiosk shutdown<a class="headerlink" href="#kiosk-shutdown" title="Permalink to this headline">¶</a></h2>
<p>When you’re done using the cluster, you may want to shutdown the cluster, and perhaps the kiosk itself.</p>
<ol class="arabic simple">
<li>To shutdown the cluster, select <code class="docutils literal notranslate"><span class="pre">Destroy</span></code> from the Kiosk’s main menu. Cluster destruction is complete when you see <code class="docutils literal notranslate"><span class="pre">Cluster</span> <span class="pre">destroyed</span></code> followed by <code class="docutils literal notranslate"><span class="pre">---COMPLETE---</span></code> printed to the screen. However, if the screen shows error output immediately before the <code class="docutils literal notranslate"><span class="pre">---COMPLETE---</span></code> indicator, cluster destruction failed and some components may remain. In this case, it may be best to delete resources manually though the cloud provider’s web interface.</li>
<li>After shutting down the cluster, if you wish to shut down the kiosk, simply select <code class="docutils literal notranslate"><span class="pre">Exit</span></code> form the Kiosk’s main menu. The Kiosk is now completely shut down.</li>
</ol>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>When using the <code class="docutils literal notranslate"><span class="pre">Predict</span></code> functionality, the first image will take a while to process (up to 10 minutes) because the cluster will need to requisition more computing resources. (This is because the cluster is designed to use as few resources as possible in its resting state.)</li>
<li>This repository is being actively developed. If you are experiencing issues with the Deepcell kiosk, please consult the <a class="reference external" href="docs/TROUBLESHOOTING.md">Troubleshooting document</a> in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> folder.</li>
<li>Those interested in Kiosk developement should follow a different path to start the Kiosk:<ol class="arabic">
<li>Clone this repo: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">git&#64;github.com:vanvalenlab/kiosk.git</span></code></li>
<li>Initialize the “build-harness”: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">init</span></code></li>
<li>Build the container: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docker/build</span></code></li>
<li>Install wrapper script: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code></li>
<li>Start the kiosk. <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code></li>
</ol>
</li>
</ul>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler/cloudprovider/aws">Cluster Autoscaler for AWS</a></li>
<li><a class="reference external" href="https://github.com/kubernetes/kops/blob/master/addons/cluster-autoscaler/">Cluster Autoscaler for Kops</a></li>
<li><a class="reference external" href="https://github.com/brunsgaard/kops-nvidia-docker-installer">Running GPU Intances on Kops</a></li>
</ul>
<a class="reference external image-reference" href="http://www.vanvalen.caltech.edu/"><img alt="Van Valen Lab, Caltech" src="https://upload.wikimedia.org/wikipedia/commons/7/75/Caltech_Logo.svg" /></a>
</div>
<div class="section" id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>Copyright © 2018 <a class="reference external" href="http://www.vanvalen.caltech.edu/">The Van Valen Lab</a></p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>This software is licensed under a modified <a class="reference external" href="LICENSE">APACHE2</a>.</p>
<a class="reference external image-reference" href="https://opensource.org/licenses/Apache-2.0"><img alt="License" src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" /></a>
<p>See <a class="reference external" href="LICENSE">LICENSE</a> for full details.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
&quot;License&quot;); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
</pre></div>
</div>
</div>
<div class="section" id="trademarks">
<h2>Trademarks<a class="headerlink" href="#trademarks" title="Permalink to this headline">¶</a></h2>
<p>All other trademarks referenced herein are the property of their respective owners.</p>
</div>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p>This kiosk was developed by <a class="reference external" href="https://cloudposse.com">Cloud Posse, LLC</a>. Like it? Please let us know at <a class="reference external" href="mailto:hello&#37;&#52;&#48;cloudposse&#46;com">hello<span>&#64;</span>cloudposse<span>&#46;</span>com</a></p>
<a class="reference external image-reference" href="https://cloudposse.com"><img alt="Cloud Posse" src="https://cloudposse.com/logo-300x69.svg" /></a>
<p>We’re a <a class="reference external" href="https://cloudposse.com">DevOps Professional Services</a> company based in Los Angeles, CA. We love <a class="reference external" href="https://github.com/cloudposse/">Open Source Software</a>!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="TROUBLESHOOTING.html" class="btn btn-neutral float-right" title="Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to the doumentation for DeepCell’s Kiosk" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, Van Valen Lab at the California Institute of Technology (Caltech)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>